(()=>{var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var r in t)e.o(t,r)&&!e.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:t[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};(()=>{"use strict";e.r(o);const t=flarum.core.compat["forum/app"];var r=e.n(t);const s=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/states/ComposerState"];var i=e.n(n);const p=flarum.core.compat["forum/components/ComposerBody"];var a=e.n(p);const c=flarum.core.compat["forum/components/DiscussionComposer"];var f=e.n(c);r().initializers.add("zerosonesfun-composer-preview",(function(){(0,s.extend)(i().prototype,"load",(function(e,o){this.showPreview=!1})),(0,s.extend)(a().prototype,"headerItems",(function(e){var o;null!=(o=r().current.get("stream"))&&o.discussion||e.add("preview-discussion",m("div",{className:"Composer-preview Post-body "+(r().composer.showPreview?"":"hidden")}),50)})),f().prototype.jumpToPreview=function(e){e instanceof MouseEvent&&(this.composer.showPreview=!this.composer.showPreview,this.composer.showPreview&&s9e.TextFormatter.preview(this.composer.fields.content(),this.$(".Composer-preview")[0]))},(0,s.extend)(a().prototype,"oncreate",(function(){this.composerPreviewInterval=setInterval((function(){if(r().composer.showPreview){var e=this.$(".TextEditor textarea");e.offset()&&this.$(".Composer-preview").css({width:e.width(),height:e.height()+10,top:e.offset().top-$(".Composer").offset().top,left:e.offset().left-$(".Composer").offset().left})}}),100)})),(0,s.extend)(a().prototype,"onremove",(function(){clearInterval(this.composerPreviewInterval)}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map