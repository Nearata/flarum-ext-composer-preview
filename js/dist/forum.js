(()=>{var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var r in t)e.o(t,r)&&!e.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:t[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};(()=>{"use strict";const o=flarum.core.compat["forum/app"];var t=e.n(o);const r=flarum.core.compat["common/extend"],s=flarum.core.compat["forum/states/ComposerState"];var n=e.n(s);const i=flarum.core.compat["forum/components/ComposerBody"];var p=e.n(i);const a=flarum.core.compat["forum/components/DiscussionComposer"];var c=e.n(a);t().initializers.add("nearata-composer-preview",function(){(0,r.extend)(n().prototype,"load",function(e,o){this.showPreview=!1}),(0,r.extend)(p().prototype,"headerItems",function(e){var o;null!=(o=t().current.get("stream"))&&o.discussion||e.add("preview-discussion",m("div",{className:"Composer-preview Post-body "+(t().composer.showPreview?"":"hidden")}),50)}),c().prototype.jumpToPreview=function(e){e instanceof MouseEvent&&(this.composer.showPreview=!this.composer.showPreview,this.composer.showPreview&&s9e.TextFormatter.preview(this.composer.fields.content(),this.$(".Composer-preview")[0]))},(0,r.extend)(p().prototype,"oncreate",function(){this.composerPreviewInterval=setInterval(function(){if(t().composer.showPreview){var e=this.$(".TextEditor textarea");e.offset()&&this.$(".Composer-preview").css({width:e.width(),height:e.height()+10,top:e.offset().top-$(".Composer").offset().top,left:e.offset().left-$(".Composer").offset().left})}},100)}),(0,r.extend)(p().prototype,"onremove",function(){clearInterval(this.composerPreviewInterval)})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map